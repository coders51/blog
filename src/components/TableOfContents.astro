---
import type { MarkdownHeading } from "astro";
import TableOfContentsHead from "src/components/TableOfContentsHead.astro";

import {
  generateTableOfContents,
  type TocElement
} from "src/utils/generateTableOfContents";

interface Props {
  headings: MarkdownHeading[];
}

const { headings } = Astro.props;

const toc = generateTableOfContents(headings);
---

<div class="toc-prose">
  <h3>Table of Contents</h3>
  <ul class="xl:text-sm list-decimal">
    {
      toc.map((heading: TocElement) => (
        <TableOfContentsHead heading={heading} />
      ))
    }
  </ul>
</div>
